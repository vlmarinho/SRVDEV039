/*
--------------------------------------------------------------------------
Data........: 29/06/2015
Nome Sistema: Autorizador
Objeto......: pr_AUT_RetornarBitsIso
Propósito...: Procedure responsável por retornar os Bits da ISO p/ FormGen
--------------------------------------------------------------------------
Criada por:	Luiz Renato
Data: 06/10/2015
CH: 1194 / 212609
---------------------------------------------------------------------------
Alterada Por: Luiz Renato
Data: 18/11/2015
CH: 225666 / 1349
---------------------------------------------------------------------------
*/
CREATE PROCEDURE pr_AUT_RetornarBitsIso
	 @Bit001 VARCHAR(1000) OUT, @Bit002 VARCHAR(1000) OUT, @Bit003 VARCHAR(1000) OUT, @Bit004 VARCHAR(1000) OUT
	,@Bit005 VARCHAR(1000) OUT, @Bit006 VARCHAR(1000) OUT, @Bit007 VARCHAR(1000) OUT, @Bit008 VARCHAR(1000) OUT  
	,@Bit009 VARCHAR(1000) OUT, @Bit010 VARCHAR(1000) OUT, @Bit011 VARCHAR(1000) OUT, @Bit012 VARCHAR(1000) OUT  
	,@Bit013 VARCHAR(1000) OUT, @Bit014 VARCHAR(1000) OUT, @Bit015 VARCHAR(1000) OUT, @Bit016 VARCHAR(1000) OUT  
	,@Bit017 VARCHAR(1000) OUT, @Bit018 VARCHAR(1000) OUT, @Bit019 VARCHAR(1000) OUT, @Bit020 VARCHAR(1000) OUT  
	,@Bit021 VARCHAR(1000) OUT, @Bit022 VARCHAR(1000) OUT, @Bit023 VARCHAR(1000) OUT, @Bit024 VARCHAR(1000) OUT  
	,@Bit025 VARCHAR(1000) OUT, @Bit026 VARCHAR(1000) OUT, @Bit027 VARCHAR(1000) OUT, @Bit028 VARCHAR(1000) OUT  
	,@Bit029 VARCHAR(1000) OUT, @Bit030 VARCHAR(1000) OUT, @Bit031 VARCHAR(1000) OUT, @Bit032 VARCHAR(1000) OUT  
	,@Bit033 VARCHAR(1000) OUT, @Bit034 VARCHAR(1000) OUT, @Bit035 VARCHAR(1000) OUT, @Bit036 VARCHAR(1000) OUT  
	,@Bit037 VARCHAR(1000) OUT, @Bit038 VARCHAR(1000) OUT, @Bit039 VARCHAR(1000) OUT, @Bit040 VARCHAR(1000) OUT  
	,@Bit041 VARCHAR(1000) OUT, @Bit042 VARCHAR(1000) OUT, @Bit043 VARCHAR(1000) OUT, @Bit044 VARCHAR(1000) OUT  
	,@Bit045 VARCHAR(1000) OUT, @Bit046 VARCHAR(1000) OUT, @Bit047 VARCHAR(1000) OUT, @Bit048 VARCHAR(1000) OUT  
	,@Bit049 VARCHAR(1000) OUT, @Bit050 VARCHAR(1000) OUT, @Bit051 VARCHAR(1000) OUT, @Bit052 VARCHAR(1000) OUT  
	,@Bit053 VARCHAR(1000) OUT, @Bit054 VARCHAR(1000) OUT, @Bit055 VARCHAR(1000) OUT, @Bit056 VARCHAR(1000) OUT  
	,@Bit057 VARCHAR(1000) OUT, @Bit058 VARCHAR(1000) OUT, @Bit059 VARCHAR(1000) OUT, @Bit060 VARCHAR(1000) OUT  
	,@Bit061 VARCHAR(1000) OUT, @Bit062 VARCHAR(1000) OUT, @Bit063 VARCHAR(1000) OUT, @Bit064 VARCHAR(1000) OUT  
	,@Bit065 VARCHAR(1000) OUT, @Bit066 VARCHAR(1000) OUT, @Bit067 VARCHAR(1000) OUT, @Bit068 VARCHAR(1000) OUT  
	,@Bit069 VARCHAR(1000) OUT, @Bit070 VARCHAR(1000) OUT, @Bit071 VARCHAR(1000) OUT, @Bit072 VARCHAR(1000) OUT  
	,@Bit073 VARCHAR(1000) OUT, @Bit074 VARCHAR(1000) OUT, @Bit075 VARCHAR(1000) OUT, @Bit076 VARCHAR(1000) OUT  
	,@Bit077 VARCHAR(1000) OUT, @Bit078 VARCHAR(1000) OUT, @Bit079 VARCHAR(1000) OUT, @Bit080 VARCHAR(1000) OUT  
	,@Bit081 VARCHAR(1000) OUT, @Bit082 VARCHAR(1000) OUT, @Bit083 VARCHAR(1000) OUT, @Bit084 VARCHAR(1000) OUT  
	,@Bit085 VARCHAR(1000) OUT, @Bit086 VARCHAR(1000) OUT, @Bit087 VARCHAR(1000) OUT, @Bit088 VARCHAR(1000) OUT  
	,@Bit089 VARCHAR(1000) OUT, @Bit090 VARCHAR(1000) OUT, @Bit091 VARCHAR(1000) OUT, @Bit092 VARCHAR(1000) OUT  
	,@Bit093 VARCHAR(1000) OUT, @Bit094 VARCHAR(1000) OUT, @Bit095 VARCHAR(1000) OUT, @Bit096 VARCHAR(1000) OUT  
	,@Bit097 VARCHAR(1000) OUT, @Bit098 VARCHAR(1000) OUT, @Bit099 VARCHAR(1000) OUT, @Bit100 VARCHAR(1000) OUT  
	,@Bit101 VARCHAR(1000) OUT, @Bit102 VARCHAR(1000) OUT, @Bit103 VARCHAR(1000) OUT, @Bit104 VARCHAR(1000) OUT  
	,@Bit105 VARCHAR(1000) OUT, @Bit106 VARCHAR(1000) OUT, @Bit107 VARCHAR(1000) OUT, @Bit108 VARCHAR(1000) OUT  
	,@Bit109 VARCHAR(1000) OUT, @Bit110 VARCHAR(1000) OUT, @Bit111 VARCHAR(1000) OUT, @Bit112 VARCHAR(1000) OUT  
	,@Bit113 VARCHAR(1000) OUT, @Bit114 VARCHAR(1000) OUT, @Bit115 VARCHAR(1000) OUT, @Bit116 VARCHAR(1000) OUT  
	,@Bit117 VARCHAR(1000) OUT, @Bit118 VARCHAR(1000) OUT, @Bit119 VARCHAR(1000) OUT, @Bit120 VARCHAR(1000) OUT  
	,@Bit121 VARCHAR(1000) OUT, @Bit122 VARCHAR(1000) OUT, @Bit123 VARCHAR(1000) OUT, @Bit124 VARCHAR(1000) OUT  
	,@Bit125 VARCHAR(1000) OUT, @Bit126 VARCHAR(1000) OUT, @Bit127 VARCHAR(1000) OUT, @Bit128 VARCHAR(1000) OUT
	,@iRede INT, @iResposta INT
AS
BEGIN
	SET NOCOUNT ON;

	IF (@Bit001 = '0800')
	BEGIN
		SELECT	 @Bit024 = ''
				,@Bit047 = ''
				,@Bit048 = ''
				,@Bit127 = RIGHT(REPLACE(CONVERT(VARCHAR(15),GETDATE(),114),':',''),9)
	END
	ELSE IF (@Bit001 IN ('0200','0210'))
	BEGIN
		IF (@iRede IN (2,3,7,8,15)) /* TEF DEDICADO, TEF DISCADO, POS POLICARD, POS POLICARD CB */
		BEGIN
			SELECT	 @Bit002 = ''
					,@Bit014 = ''
					,@Bit015 = RIGHT(CONVERT(VARCHAR(8),GETDATE(),112),4)
					,@Bit022 = ''
					,@Bit023 = ''
					,@Bit024 = ''
					,@Bit035 = ''
					,@Bit045 = ''
					,@Bit048 = ''
					,@Bit052 = ''
					,@Bit061 = ''
					,@Bit063 = ''
					,@Bit067 = ''
					,@Bit104 = ''
					,@Bit120 = ''
		END
		ELSE IF (@iRede IN (4,5)) /* POS WALK, CIELO */
		BEGIN
			SELECT	 @Bit002 = ''
					,@Bit018 = ''
					,@Bit022 = ''
					,@Bit035 = ''
					,@Bit043 = ''
					,@Bit045 = ''
					,@Bit052 = ''
					,@Bit060 = ''
					,@Bit127 = ''

			IF (@iRede = 5) SET @Bit062 = ''
		END
	END
	ELSE IF (@Bit001 IN ('0400','0410'))
	BEGIN
		SELECT	 @Bit022 = ''
				,@Bit024 = ''
				,@Bit048 = ''
				,@Bit061 = ''
				,@Bit125 = ''
	END
	ELSE IF (@Bit001 IN ('0420','0430'))
	BEGIN
		IF (@iRede IN (2,3,7,8)) /* TEF DEDICADO, TEF DISCADO, POS POLICARD, POS POLICARD CB */
		BEGIN
			SELECT	 @Bit024 = ''
					,@Bit048 = ''
					,@Bit049 = ''
					,@Bit061 = ''
					,@Bit105 = ''
		END
		ELSE IF (@iRede IN (4,5)) /* POS WALK, CIELO */
		BEGIN
			SELECT	 @Bit002 = ''
					,@Bit018 = ''
					,@Bit022 = ''
					,@Bit035 = ''
					,@Bit043 = ''
					,@Bit045 = ''
					,@Bit052 = ''
					,@Bit060 = ''
					,@Bit127 = ''

			IF (@iRede = 5) SET @Bit062 = ''
		END
	END
	ELSE IF (@Bit001 IN ('0500','0510'))
	BEGIN
		SELECT	 @Bit032 = ''
				,@Bit127 = RIGHT(REPLACE(CONVERT(VARCHAR(15),GETDATE(),114),':',''),9)
	END
END
